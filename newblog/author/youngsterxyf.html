<!doctype html>
<html lang="">	
<head>
	<meta charset="utf-8"/>
	<title>黑*白 - Articles by youngsterxyf</title>	
	<meta name="author" content="yongfengxia">
	
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0">
	
	<link href='http://fonts.googleapis.com/css?family=Droid+Sans:700,400|Droid+Sans+Mono' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="http://youngsterxyf.github.io/newblog/theme/css/main.css" type="text/css" />
		
	<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	
	<link href="http://youngsterxyf.github.io/newblog/" type="application/atom+xml" rel="alternate" title="黑*白 ATOM Feed" />
</head>
	
<body>		
	<header class="clearfix" role="banner">
		<div class="wrapper">
			<h1 class="huge"><a href="http://youngsterxyf.github.io/newblog">黑*白</a></h1>
		</div>
	</header>
	
<div role="main" class="content clearfix">

	<article class="wrapper main">
		<h1><a href="http://youngsterxyf.github.io/newblog/golangzhong-ru-he-rang-htmltemplatebu-zhuan-yi-htmlbiao-qian.html">Golang中如何让html/template不转义html标签</a></h1>
		<p>近期在使用Golang的<a href="http://golang.org/pkg/net/http/">net/http</a>和<a href="http://golang.org/pkg/html/template/">html/template</a>开发一个简单的HAProxy负载均衡任务管理系统（见<a href="http://youngsterxyf.github.io/2013/10/16/high-availability-load-balancer-and-dns/">搭建高可用负载均衡组件及缓存DNS</a>一文说明）。</p>
<p><a href="http://golang.org/pkg/html/template/">htmp/template</a>在渲染页面模板的时候默认会转义字符串中的html标签，但有时我们并不想转义html标签，以下图所示为例：</p>
<p><img alt="add_haproxy_balance_task" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/pics/haproxy_task_add.jpg" /></p>
<p><img alt="list_haproxy_balance_task" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/pics/haproxy_task_list.jpg" /></p>
<p>图1中“ip:port列表(一行一个)”和“说明”两个输入框的内容行与行是以<code>\n</code>分隔的；图2中，这两部分内容分别在表格的“后端机器列表”和“说明”两列中展示，但行与行其实是以<code>&lt;br /&gt;</code>分隔的；那么在将数据存入数据库之前或从数据库中取出数据后，会将字符串中的<code>\n</code>替换为<code>&lt;br /&gt;</code>。如果将替换后的数据以字符串类型传入模板，<code>&lt;br /&gt;</code>标签渲染后的效果就是<code>&lt;br /&gt;</code>文本而不是换行。</p>
<p>有两种方式避免<code>html/template</code>转义html标签：</p>
<p>1.
把字符串类型数据转换成<code>template ...</code></p> <a class="btn" href="http://youngsterxyf.github.io/newblog/golangzhong-ru-he-rang-htmltemplatebu-zhuan-yi-htmlbiao-qian.html">read more →</a>
	</article>

	<div class="wrapper main">		
		<h3>More posts</h3>
		<ol class="archive">

			<li class="clearfix"><a href="http://youngsterxyf.github.io/newblog/xiu-gai-pypiyuan.html" rel="bookmark" title="Permalink to 修改PyPI源"><time datetime="2013-11-01T14:30:00" pubdate>周五 01 十一月 2013</time> 修改PyPI源</a></li>
		</ol>
		
		<p>More posts in the <a href="http://youngsterxyf.github.io/newblog/archives.html">archive</a>.</p>
	</div>
</div>
	
		
<footer class="clearfix">
	<div class="wrapper pages">
		<ul class="nav">
			<li><a href="http://youngsterxyf.github.io/newblog/archives.html">Archive</a></li>
		</ul>
	</div>
	
	<div class="copy wrapper">
		<ul class="social">
			<li><a href="#">You can add links in your config file</a></li>
			<li><a href="#">Another social link</a></li>
		</ul>
	
		<p role="contentinfo">© 2012 yongfengxia<br>
		Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">Pelican</a>.</p>
	</div>
</footer>
	
	<script>
	  var _gaq=[['_setAccount',''],['_trackPageview']];
	  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
	  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
	  s.parentNode.insertBefore(g,s)}(document,'script'));
	</script>
</body>
</html>