

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Zookeeper &mdash; xiayf的学习笔记</title>
  

  
  

  
  <link href="../static/css/google-fonts.css" rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="xiayf的学习笔记" href="../index.html"/>
        <link rel="next" title="SaltStack" href="saltstack.html"/>
        <link rel="prev" title="DNS/BIND" href="dns.html"/> 

  
  <script src="../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> 学习笔记</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/read_high_scalability.html">High Scalability 读文笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/read_high_scalability.html#tumblr">Tumblr架构设计</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/Quora_technology_examined.html">读文笔记：Quora’s Technology Examined</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#the-search-box">The Search-Box</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#webnode2-and-livenode">Webnode2 And LiveNode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#amazon-web-services">Amazon Web Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#haproxy-load-balancing">HAProxy Load-Balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#nginx">Nginx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#pylons-and-paste">Pylons And Paste</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#thrift">Thrift</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#tornado">Tornado</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#long-polling-comet">Long Polling (Comet)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#mysql">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#memcached">Memcached</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#git">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#javascript-placement">JavaScript Placement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/Quora_technology_examined.html#charlie-cheever-follows-14-rules-for-faster-loading-web-sites">Charlie Cheever Follows &#8220;14 Rules for Faster-Loading Web Sites&#8221;</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/reference.html">参考资料</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#netflix">Netflix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#linkedin">LinkedIn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#pinterest">Pinterest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#google">Google</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id2">大众点评网</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id4">阿里巴巴</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#digg">Digg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#heroku">Heroku</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#youtube">YouTube</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#flickr">Flickr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#wikipedia">Wikipedia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id10">腾讯</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id11">豆瓣</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#facebook">Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#amazon">Amazon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#yahoo">Yahoo!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#github">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#disqus">Disqus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#twitter">Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#tumblr">Tumblr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#stackoverflow">StackOverflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#instagram">Instagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#youporn">YouPorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#reddit">Reddit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id22">其他</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="os.html">Linux操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="os.html#id1">实践篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="os.html#id2">工具篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="os.html#id5">原理篇</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nginx.html">Nginx</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id1">《Nginx开发从入门到精通》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id2">模块学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id3">实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id4">资源</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="db.html">数据库</a><ul>
<li class="toctree-l2"><a class="reference internal" href="db/memcached.html">Memcached</a></li>
<li class="toctree-l2"><a class="reference internal" href="db/redis.html">Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="db/mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="db/sqlite.html">SQLite</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lvs.html">LVS - Linux Virtual Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="varnish.html">Varnish Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="haproxy.html">HAProxy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#id2">HAProxy源码编译安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#haproxysyslog-ng">HAProxy的syslog-ng日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#haproxyrsyslogd">HAProxy的rsyslogd日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#id3">HAProxy命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#haproxy-haproxy">HAProxy配置文件示例（来自 HAProxy的安装和部署 ）</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#id5">参考材料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="keepalived.html">Keepalived</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#tlinuxkeepalived">tlinux上源码编译安装Keepalived</a></li>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#vrrp">VRRP协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#id1">Keepalived原理</a></li>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fabric.html">Fabric</a></li>
<li class="toctree-l1"><a class="reference internal" href="supervisor.html">Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gunicorn.html">Gunicorn</a></li>
<li class="toctree-l1"><a class="reference internal" href="openvpn.html">OpenVPN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openvpn.html#vpn">如何让客户端流量全部走VPN？</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker/LXC</a></li>
<li class="toctree-l1"><a class="reference internal" href="dns.html">DNS/BIND</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dns.html#bind9-9-3">编译安装BIND9.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="dns.html#bind-dns">配置BIND（缓存DNS）</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Zookeeper</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#zookeeper-overview">Zookeeper Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="saltstack.html">SaltStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="saltstack.html#saltstack-walkthrough">SaltStack Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="saltstack.html#id2">相关链接</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zabbix.html">Zabbix</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildbot.html">Buildbot</a></li>
<li class="toctree-l1"><a class="reference internal" href="coreos.html">coreOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="ntp.html">NTP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#ntp-conf">配置文件ntp.conf</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#linux">Linux系统时间与硬件时间</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#id3">Linux系统时区与手动校时工作</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#id4">Linux的网络校时</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="influxdb.html">InfluxDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="influxdb.html#id1">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="heka.html">heka</a><ul>
<li class="toctree-l2"><a class="reference internal" href="heka.html#id1">Heka文档阅读笔记</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/php.html">PHP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/php/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/manual.html">《PHP手册》阅读笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/manual.html#id9">常用函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/zf.html">Zend Framwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/laravel.html">Laravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/builtin_functions.html">内置函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/php-internal.html">深入理解PHP内核</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/python.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/python/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/best-practices.html">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/libs.html">第三方库集锦</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/django.html">Django</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/django.html#id1">参考资料</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/Celery.html">Celery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/gunicorn.html">Gunicorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/eventlet.html">Eventlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/paramiko.html">Paramiko</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/sentry.html">sentry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/virtualenv.html">virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/scipy.html">SciPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/sqlalchemy.html">SQLAlchemy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/js.html">JavaScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/js/basic.html">JavaScript基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/jquery.html">jQuery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/prototype.html">Prototype</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/modernizr.html">Modernizr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/mootools.html">Mootools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/underscorejs.html">Underscore.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/d3js.html">D3.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/emberjs.html">Ember.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/nodejs.html">Node.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/requirejs.html">RequireJS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/backbonejs.html">Backbone.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/node-webkit.html">Node-Webkit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/css.html">CSS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/css/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/semantic-ui.html">Semantic UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/css-mastery.html">读书笔记：精通CSS-高级Web标准解决方案</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css.html#id1">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/shell.html">Shell编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/go.html">Go语言</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/go-web-programming.html">《Go Web编程》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/go-learning-note.html">Go学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/a-tour-of-go.html">&lt;A tour of Go&gt;学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/note-effective-go.html">&lt;Effective Go&gt;学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id1">语言基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#web">Web开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id5">标准库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id6">第三方库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id7">Web框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id8">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/web.html">Web开发问题记录</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id1">响应式设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id6">工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id9">浏览器兼容问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id10">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id11">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/make.html">CMake/Make</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/r.html">R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/octave.html">Octave</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../base/os.html">操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/os.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/compiler.html">编译原理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/compiler.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/algorithm.html">算法与数据结构</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/algorithm.html#id2">贝塞尔曲线</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/network.html">网络</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/network/sdn.html">软件定义网络（SDN）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/rsync.html">Rsync</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/oauth2.html">OAuth2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/read_hpbn.html">读书笔记：High-Performance Browser Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/security.html">Web安全</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../others/quotes.html">启示语录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/data-visual.html">数据可视化</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#polymaps">Polymaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#highcharts-js">Highcharts JS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#amcharts">amCharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#peity">Peity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#kartograph">Kartograph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#d3-js">D3.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#raphael">Raphael</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#nvd3">NVD3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#flot">Flot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#javascript-infovis-toolkit">JavaScript InfoVis Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#rickshaw">Rickshaw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#graph-tool">graph-tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#chap-links-library">CHAP Links Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/git.html">Git学习笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/git/git-simple-guide.html">Git-简易指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/git/visual-git-guide.html">图解Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/git/pro-git-cn.html">Pro Git</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/message_queue.html">消息队列</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/message_queue.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/storage.html">数据存储</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/storage.html#bitcask">BitCask</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/distributed-system.html">分布式系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/distributed-system.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/quora-collection.html">Quora问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/stackoverflow-collection.html">StackOverflow问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/other.html">碎碎念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/other/taobao-ten-years.html">《淘宝技术这十年》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/other/inspired.html">启示录-打造用户喜爱的产品</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">学习笔记</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Zookeeper</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../sources/operations/zookeeper.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="zookeeper">
<h1>Zookeeper<a class="headerlink" href="#zookeeper" title="Permalink to this headline">¶</a></h1>
<p>ZooKeeper is a high-performance coordination service for distributed applications. It exposes common services - such as naming, configuration management, synchronization, and group services - in a simple interface so you don&#8217;t have to write them from scratch. You can use it off-the-shelf to implement consensus, group management, leader election, and presence protocols. And you can build on it for your own, specific needs.</p>
<hr class="docutils" />
<div class="section" id="zookeeper-overview">
<h2>Zookeeper Overview<a class="headerlink" href="#zookeeper-overview" title="Permalink to this headline">¶</a></h2>
<div class="section" id="zookeeper-a-distributed-coordination-service-for-distributed-applications">
<h3>Zookeeper: A Distributed Coordination Service for Distributed Applications<a class="headerlink" href="#zookeeper-a-distributed-coordination-service-for-distributed-applications" title="Permalink to this headline">¶</a></h3>
<p>Zookeeper exposes a simple set of primitives that distributed applications can build upon to implement higher level services for synchronization, configuration maintenance, and groups and naming. It is designed to be easy to program to, and uses a data model styled after the familiar directory tree structure of file systems. It runs in Java and has bindings for both Java and C.</p>
<p>Coordination services are notoriously hard to get right. They are especially prone to errors such as race conditions and deadlock. The motivation behind ZooKeeper is to relieve distributed applications the responsibility of implementing coordination services from scratch.</p>
<p><strong>Design Goals</strong></p>
<ul>
<li><p class="first"><em>Zookeeper is simple.</em> ZooKeeper allows distributed processes to coordinate with each other through a shared hierarchal namespace which is organized similarly to a standard file system. The name space consists of data registers - called znodes, in ZooKeeper parlance - and these are similar to files and directories. Unlike a typical file system, which is designed for storage, ZooKeeper data is kept in-memory, which means ZooKeeper can achieve high throughput and low latency numbers. The ZooKeeper implementation puts a premium on high performance, highly available, strictly ordered access. The performance aspects of ZooKeeper means it can be used in large, distributed systems. The reliability aspects keep it from being a single point of failure. The strict ordering means that sophisticated synchronization primitives can be implemented at the client.</p>
</li>
<li><p class="first"><em>Zookeeper is replicated.</em></p>
<img alt="http://zookeeper.apache.org/doc/trunk/images/zkservice.jpg" src="http://zookeeper.apache.org/doc/trunk/images/zkservice.jpg" />
<p>The servers that make up the ZooKeeper service must all know about each other. They maintain an in-memory image of state, along with a transaction logs and snapshots in a persistent store. As long as a majority of the servers are available, the ZooKeeper service will be available.</p>
<p>Clients connect to a single ZooKeeper server. The client maintains a TCP connection through which it sends requests, gets responses, gets watch events, and sends heart beats. If the TCP connection to the server breaks, the client will connect to a different server.</p>
</li>
<li><p class="first"><em>Zookeeper is ordered.</em> ZooKeeper stamps each update with a number that reflects the order of all ZooKeeper transactions. Subsequent operations can use the order to implement higher-level abstractions, such as synchronization primitives.</p>
</li>
<li><p class="first"><em>Zookeeper is fast.</em> It is especially fast in &#8220;read-dominant&#8221; workloads. ZooKeeper applications run on thousands of machines, and it performs best where reads are more common than writes, at ratios of around 10:1.</p>
</li>
</ul>
<p><strong>Data model and the hierarchical namespace</strong></p>
<p>The name space provided by ZooKeeper is much like that of a standard file system. A name is a sequence of path elements separated by a slash (/). Every node in ZooKeeper&#8217;s name space is identified by a path.</p>
<img alt="http://zookeeper.apache.org/doc/trunk/images/zknamespace.jpg" src="http://zookeeper.apache.org/doc/trunk/images/zknamespace.jpg" />
<p><strong>Guarantees</strong></p>
<p>Zookeeper is very fast and very simple. Since its goal, though, is to be a basis for the construction of more complicated services, such as synchronization, it provides a set of guarantees. These are:</p>
<ul class="simple">
<li>Sequential Consistency - Updates from a client will be applied in the order that they were sent.</li>
<li>Atomicity - Updates either succeed or fail. No partial results.</li>
<li>Single System Image - A client will see the same view of the service regardless of the server that it connects to.</li>
<li>Reliability - Once an update has been applied, it will persist from that time forward until a client overwrites the update.</li>
<li>Timeliness - The clients view of the system is guaranteed to be up-to-date within a certain time bound.</li>
</ul>
<p><strong>Simple API</strong></p>
<p>One of the design goals of ZooKeeper is provide a very simple programming interface. As a result, it supports only these operations:</p>
<ul class="simple">
<li>create: creates a node at a location in the tree</li>
<li>delete: deletes a node</li>
<li>exists: tests if a node exists at a location</li>
<li>get data: reads the data from a node</li>
<li>set data: writes data to a node</li>
<li>get children: retrieves a list of children of a node</li>
<li>sync: waits for data to be propagated</li>
</ul>
<p><strong>Implementation</strong></p>
<img alt="http://zookeeper.apache.org/doc/trunk/images/zkcomponents.jpg" src="http://zookeeper.apache.org/doc/trunk/images/zkcomponents.jpg" />
<p>The image above shows the high-level components of the ZooKeeper service. With the exception of(除了...之外) the request processor, each of the servers that make up the ZooKeeper service replicates its own copy of each of components.</p>
<p>The replicated database is an in-memory database containing the entire data tree. Updates are logged to disk for recoverability, and writes are serialized to disk before they are applied to the in-memory database.</p>
<p>Every ZooKeeper server services clients. Clients connect to exactly one server to submit irequests. Read requests are serviced from the local replica of each server database. Requests that change the state of the service, write requests, are processed by an agreement protocol.</p>
<p>As part of the agreement protocol all write requests from clients are forwarded to a single server, called the leader. The rest of the ZooKeeper servers, called followers, receive message proposals from the leader and agree upon message delivery. The messaging layer takes care of replacing leaders on failures and syncing followers with leaders.</p>
<p>ZooKeeper uses a custom atomic messaging protocol. Since the messaging layer is atomic, ZooKeeper can guarantee that the local replicas never diverge. When the leader receives a write request, it calculates what the state of the system is when the write is to be applied and transforms this into a transaction that captures this new state.</p>
<hr class="docutils" />
<ul class="simple">
<li><a class="reference external" href="http://www.searchtb.com/2011/01/zookeeper-research.html">Zookeeper研究和应用</a></li>
<li><a class="reference external" href="http://stblog.baidu-tech.com/?p=1164">Zookeeper工作原理</a></li>
<li><a class="reference external" href="http://blog.cloudera.com/blog/2009/05/building-a-distributed-concurrent-queue-with-apache-zookeeper/">Building a distributed concurrent queue with Apache ZooKeeper</a></li>
<li><a class="reference external" href="http://jm-blog.aliapp.com/?p=1232">ZooKeeper典型应用场景一览</a></li>
<li><a class="reference external" href="http://jm-blog.aliapp.com/?p=2318">ZooKeeper管理员指南——部署与管理ZooKeeper</a></li>
</ul>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="saltstack.html" class="btn btn-neutral float-right" title="SaltStack">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dns.html" class="btn btn-neutral" title="DNS/BIND"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, youngsterxyf.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>