

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>SaltStack &mdash; xiayf的学习笔记</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xiayf的学习笔记" href="../index.html"/>
        <link rel="next" title="How Do I Use Salt States?" href="saltstack/starting_states.html"/>
        <link rel="prev" title="DNS/BIND" href="dns.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> 学习笔记
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/read_high_scalability.html">High Scalability 读文笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/read_high_scalability.html#tumblr">Tumblr架构设计</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/Quora_technology_examined.html">读文笔记：Quora’s Technology Examined</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/reference.html">参考资料</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id2">知乎</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#netflix">Netflix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#linkedin">LinkedIn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#pinterest">Pinterest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#google">Google</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id5">大众点评网</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id7">阿里巴巴</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#digg">Digg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#heroku">Heroku</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#youtube">YouTube</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#flickr">Flickr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#wikipedia">Wikipedia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id13">腾讯</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id14">豆瓣</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#facebook">Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#amazon">Amazon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#yahoo">Yahoo!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#github">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#disqus">Disqus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#twitter">Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#tumblr">Tumblr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#stackoverflow">StackOverflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#instagram">Instagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#youporn">YouPorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#reddit">Reddit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/reference.html#id25">其他</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">入门</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="os.html">Linux操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="os.html#id1">实践篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="os.html#id2">工具篇</a><ul>
<li class="toctree-l3"><a class="reference internal" href="os.html#pushd-popd-dirs">pushd, popd, dirs</a></li>
<li class="toctree-l3"><a class="reference internal" href="os.html#iptables">iptables</a></li>
<li class="toctree-l3"><a class="reference internal" href="os.html#lsof">lsof</a></li>
<li class="toctree-l3"><a class="reference internal" href="os.html#netstat">netstat</a></li>
<li class="toctree-l3"><a class="reference internal" href="os.html#htop">htop</a></li>
<li class="toctree-l3"><a class="reference internal" href="os.html#tcpdump">tcpdump</a></li>
<li class="toctree-l3"><a class="reference internal" href="os.html#ip">ip</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="os.html#id5">原理篇</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nginx.html">Nginx</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id1">《Nginx开发从入门到精通》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id2">模块学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id3">实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html#id4">资源</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="db.html">数据库</a><ul>
<li class="toctree-l2"><a class="reference internal" href="db/memcached.html">Memcached</a><ul>
<li class="toctree-l3"><a class="reference internal" href="db/memcached.html#scaling-memcache-at-facebook">读文笔记：Scaling Memcache at Facebook</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="db/redis.html">Redis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="db/redis.html#self-contained-documents-of-redis-conf">self-contained documents of redis.conf</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/redis.html#id1">官网资料学习</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/redis.html#id2">《Redis设计与实现》读书笔记</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/redis.html#id3">资源</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="db/mysql.html">MySQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="db/mysql.html#id1">基本使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/mysql.html#id2">一次简单的数据库迁移过程</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/mysql.html#sharding">Sharding</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/mysql.html#id3">存储过程</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/mysql.html#id4">计划任务</a></li>
<li class="toctree-l3"><a class="reference internal" href="db/mysql.html#id5">资源</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="db/sqlite.html">SQLite</a><ul>
<li class="toctree-l3"><a class="reference internal" href="db/sqlite.html#id1">《SQLite权威指南》阅读笔记</a><ul>
<li class="toctree-l4"><a class="reference internal" href="db/sqlite.html#id2">体系结构</a></li>
<li class="toctree-l4"><a class="reference internal" href="db/sqlite.html#id3">SQLite的特性</a></li>
<li class="toctree-l4"><a class="reference internal" href="db/sqlite.html#id4">性能和限制</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker/LXC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docker.html#id1">推荐资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="varnish.html">Varnish Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="haproxy.html">HAProxy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#id2">HAProxy源码编译安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#haproxysyslog-ng">HAProxy的syslog-ng日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#haproxyrsyslogd">HAProxy的rsyslogd日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#id3">HAProxy命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#haproxy-haproxy">HAProxy配置文件示例（来自 HAProxy的安装和部署 ）</a></li>
<li class="toctree-l2"><a class="reference internal" href="haproxy.html#id5">参考材料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="uwsgi.html">uWSGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="lvs.html">LVS - Linux Virtual Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="keepalived.html">Keepalived</a><ul>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#tlinuxkeepalived">tlinux上源码编译安装Keepalived</a></li>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#vrrp">VRRP协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#id1">Keepalived原理</a></li>
<li class="toctree-l2"><a class="reference internal" href="keepalived.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="supervisor.html">Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gunicorn.html">Gunicorn</a></li>
<li class="toctree-l1"><a class="reference internal" href="openvpn.html">OpenVPN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openvpn.html#vpn">如何让客户端流量全部走VPN？</a><ul>
<li class="toctree-l3"><a class="reference internal" href="openvpn.html#id1">参考资料</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dns.html">DNS/BIND</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dns.html#bind9-9-3">编译安装BIND9.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="dns.html#bind-dns">配置BIND（缓存DNS）</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dns.html#id1">推荐资料</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">SaltStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#saltstack-walkthrough">SaltStack Walkthrough</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#salt-states">Salt States</a><ul>
<li class="toctree-l4"><a class="reference internal" href="saltstack/starting_states.html">How Do I Use Salt States?</a></li>
<li class="toctree-l4"><a class="reference internal" href="saltstack/pillar_walkthrough.html">Pillar Walkthrough</a></li>
<li class="toctree-l4"><a class="reference internal" href="saltstack/getting_deeper_into_states.html">Getting Deeper Into States</a></li>
<li class="toctree-l4"><a class="reference internal" href="saltstack/scheduling.html">Salt Scheduling</a></li>
<li class="toctree-l4"><a class="reference internal" href="saltstack/returner.html">Returners</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id2">相关链接</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zabbix.html">Zabbix</a></li>
<li class="toctree-l1"><a class="reference internal" href="ntp.html">NTP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#ntp-conf">配置文件ntp.conf</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ntp.html#id2">客户端的时间更新方式</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#linux">Linux系统时间与硬件时间</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#id3">Linux系统时区与手动校时工作</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntp.html#id4">Linux的网络校时</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/python.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/python/basic.html">基础知识</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/python/basic.html#id2">反射</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/basic.html#id3">魔术方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/basic.html#id5">装饰器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/basic.html#id8">参考资料</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/best-practices.html">最佳实践</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/python/best-practices.html#id2">参考阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/libs.html">第三方库集锦</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#pexpect">Pexpect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#whoosh">Whoosh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#apscheduler-advanced-python-scheduler">APScheduler: Advanced Python Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#envoy-python-subprocesses-for-humans">Envoy: Python Subprocesses for Humans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#celery-distributed-task-queue">Celery: Distributed Task Queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#sh-python-subprocess-interface">sh: Python subprocess interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#simplecv-the-open-source-framework-for-machine-vision">SimpleCV: The Open Source Framework for Machine Vision</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#pandas-powerful-python-data-analysis-toolkit">pandas: powerful Python data analysis toolkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#gevent-coroutine-based-concurrency-library-for-python">gevent: Coroutine-based concurrency library for Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#pyserial">pySerial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#requests-http-for-humans">Requests: HTTP for Humans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#watchdog">Watchdog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#web-py">web.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#vincent">Vincent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#ggplot">ggplot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#seaborn">seaborn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/libs.html#mysql-connector-python">MySQL Connector/Python</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/django.html">Django</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/django.html#id1">参考资料</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/Celery.html">Celery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/python/Celery.html#id1">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/gunicorn.html">Gunicorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/eventlet.html">Eventlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/paramiko.html">Paramiko</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/sentry.html">sentry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/virtualenv.html">virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/scipy.html">SciPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/python/scipy.html#numpy">NumPy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/scipy.html#sympy">Sympy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/scipy.html#scipy-library">SciPy library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/scipy.html#matplotlib">Matplotlib</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/scipy.html#pandas">pandas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/python/scipy.html#id1">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/sqlalchemy.html">SQLAlchemy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/python/sqlalchemy.html#id1">推荐阅读</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/go.html">Go语言</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/go-web-programming.html">《Go Web编程》读书笔记</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-web-programming.html#go">第一章：Go语言环境配置</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/go-web-programming.html#gopath">GOPATH与工作空间</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/go-web-programming.html#id1">Go语言命令</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/go-learning-note.html">Go学习笔记</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id2">第一章 类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id3">第二章 表达式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id4">第三章 函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id5">第四章 数据</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/go-learning-note.html#array">Array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/go-learning-note.html#slice">Slice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/go-learning-note.html#map">Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/go-learning-note.html#struct">Struct</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id6">第五章 方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/go-learning-note.html#id7">方法集</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id8">第六章 接口</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id9">第七章 并发</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/go-learning-note.html#id10">第八章 包</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/a-tour-of-go.html">&lt;A tour of Go&gt;学习笔记</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#the-new-function">The new function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#arrays">Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#slices">Slices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#maps">Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#function-closures">Function closures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#methods-with-pointer-receivers">Methods with pointer receivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#goroutines">Goroutines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/a-tour-of-go.html#range-and-close">Range and Close</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/note-effective-go.html">&lt;Effective Go&gt;学习笔记</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#id1">类型切换</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#defer">Defer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#id2">数组</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#slice">切片(slice)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#id3">常量</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#init">init函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#pointer-vs-values">Pointer vs. Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#interface-conversions-and-type-assertions">Interface conversions and type assertions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#interfaces-and-methods">Interfaces and methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#import-for-side-effect">Import for side effect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#embedding">Embedding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/golang/note-effective-go.html#concurrency">Concurrency</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#share-by-communicating">Share by communicating</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/golang/note-effective-go.html#goroutines">Goroutines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id1">语言基础</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#id2">Go语言程序设计的一些规则</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#panicrecover">Panic和Recover</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#main-init"><code class="docutils literal"><span class="pre">main</span></code> 函数和 <code class="docutils literal"><span class="pre">init</span></code> 函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#id3">面向对象</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#interface">interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#id4">并发</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#web">Web开发</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#session">Session和数据存储</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id5">标准库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id6">第三方库</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/go.html#mysql">访问数据库 - MySQL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id7">Web框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id8">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/php.html">PHP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/php/basic.html">基础知识</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/php/basic.html#id2">反射机制</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/php/basic.html#id3">参考资料</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/php-framework.html">PHP web框架</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/php/php-framework.html#id1">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/php-internal.html">深入理解PHP内核</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/shell.html">Shell编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/Erlang.html">Erlang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/Lua.html">Lua</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/web.html">Web开发问题记录</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id1">响应式设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id6">工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id9">浏览器兼容问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id10">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id11">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/js.html">JavaScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/js/basic.html">JavaScript基础</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/js/basic.html#javascript-tips-and-tricks-for-javascript-developers">21 JavaScript Tips And Tricks For JavaScript Developers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/js/basic.html#style-guide">Style Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/js/basic.html#id2">材料</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/frontend-dv.html">前端数据可视化</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/js/frontend-dv.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/frontend-framework.html">前端框架</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/js/frontend-framework.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/frontend-tool.html">前端工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/js/frontend-tool.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/modular-frontend.html">前端模块化开发</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/js/modular-frontend.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/nodejs.html">Node.js</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/js/nodejs.html#id1">推荐阅读</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/css.html">CSS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/css/basic.html">基础知识</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/css/basic.html#very-useful-css-stylesheet-tips-tricks">20 Very Useful CSS Stylesheet Tips &amp; Tricks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/basic.html#id3">资源</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/bootstrap.html">Bootstrap</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/css/bootstrap.html#global-settings">Global settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/bootstrap.html#default-grid-system">Default grid system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/bootstrap.html#fluid-grid-system">Fluid grid system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/bootstrap.html#layouts">Layouts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/bootstrap.html#responsive-design">Responsive design</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/semantic-ui.html">Semantic UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/css-mastery.html">读书笔记：精通CSS-高级Web标准解决方案</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id1">第一章：基础知识</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id6">第二章：为样式找到应用目标</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/css/css-mastery.html#id7">2.1 常用的选择器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/css/css-mastery.html#id8">2.2 通用选择器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/css/css-mastery.html#id9">2.3 高级选择器</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id10">第三章：可视化格式模型</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id11">第四章：背景图像效果</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../development/css/css-mastery.html#id12">4.1 背景图像基础</a></li>
<li class="toctree-l4"><a class="reference internal" href="../development/css/css-mastery.html#id13">4.4 不透明度</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id14">第五章：对链接应用样式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id15">第六章：对列表应用样式和创建导航栏</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id16">第七章：对表单和数据表格应用样式</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#id17">第八章：布局</a></li>
<li class="toctree-l3"><a class="reference internal" href="../development/css/css-mastery.html#bugbug">第九章：bug和修复bug</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/css.html#id1">推荐阅读</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../base/os.html">操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/os.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/compiler.html">编译原理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/compiler.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/algorithm.html">算法与数据结构</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/algorithm.html#id2">贝塞尔曲线</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/network.html">网络</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/network/sdn.html">软件定义网络（SDN）</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../base/network/sdn.html#id1">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/rsync.html">Rsync</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../base/network/rsync.html#id1">参考资料</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/oauth2.html">OAuth2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/read_hpbn.html">读书笔记：High-Performance Browser Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/security.html">Web安全</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../others/quotes.html">启示语录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/data-visual.html">数据可视化</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#acharts">acharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#echarts">ECharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#polymaps">Polymaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#highcharts-js">Highcharts JS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#amcharts">amCharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#peity">Peity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#kartograph">Kartograph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#d3-js">D3.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#raphael">Raphael</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#nvd3">NVD3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#flot">Flot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#javascript-infovis-toolkit">JavaScript InfoVis Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#rickshaw">Rickshaw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#graph-tool">graph-tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#chap-links-library">CHAP Links Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/git.html">Git学习笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/git/git-simple-guide.html">Git-简易指南</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../others/git/git-simple-guide.html#id2">检出仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/git-simple-guide.html#id3">工作流</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/git-simple-guide.html#id4">分支</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/git-simple-guide.html#id5">更新与合并</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/git-simple-guide.html#id6">标签</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/git-simple-guide.html#id7">替换本地改动</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/git-simple-guide.html#id8">有用的贴士</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../others/git/visual-git-guide.html">图解Git</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../others/git/visual-git-guide.html#id2">基本用法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/visual-git-guide.html#id3">约定</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/visual-git-guide.html#id4">命令详解</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../others/git/visual-git-guide.html#diff">Diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/visual-git-guide.html#commit">Commit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/visual-git-guide.html#checkout">Checkout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/visual-git-guide.html#reset">Reset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/visual-git-guide.html#rebase">Rebase</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../others/git/pro-git-cn.html">Pro Git</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../others/git/pro-git-cn.html#id3">1. 起步</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#git">Git基础</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id4">安装 Git</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id5">初次运行Git前的配置</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/pro-git-cn.html#id6">2. Git基础</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id7">撤销操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id8">远程仓库的使用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id9">打标签</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id10">技巧和窍门</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/pro-git-cn.html#id11">3. Git分支</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id12">何谓分支</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id13">分支的新建与合并</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id14">分支的管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id15">利用分支进行开发的工作流</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id16">远程分支</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/git/pro-git-cn.html#id17">分支的衍合</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/pro-git-cn.html#id18">4. 服务器上的Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/pro-git-cn.html#id19">7. 自定义Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/git/pro-git-cn.html#id20">9. Git内部原理</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/message_queue.html">消息队列</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/message_queue.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/storage.html">数据存储</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/storage.html#bitcask">BitCask</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/distributed-system.html">分布式系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/distributed-system.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/quora-collection.html">Quora问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/stackoverflow-collection.html">StackOverflow问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/awesomes.html">Awesome系列</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/other.html">碎碎念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/other/taobao-ten-years.html">《淘宝技术这十年》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/other/inspired.html">启示录-打造用户喜爱的产品</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../others/other/inspired.html#id2">前言</a></li>
<li class="toctree-l3"><a class="reference internal" href="../others/other/inspired.html#id4">第一部分：人员</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id5">第一章：关键角色及其职责</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id6">第二章：产品管理与产品营销</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id7">第三章：产品管理与项目管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id8">第四章：产品管理与产品设计</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id9">第五章：产品管理与软件开发</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id10">第六章：招聘产品经理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id11">第七章：管理产品经理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id12">第八章：巴顿将军的忠告</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#id13">第九章：产品副经理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../others/other/inspired.html#managing-up">第十章：管理上司（Managing Up）</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../others/other/inspired.html#id14">第二部分：流程</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">学习笔记</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>SaltStack</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../sources/operations/saltstack.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="saltstack">
<h1>SaltStack<a class="headerlink" href="#saltstack" title="Permalink to this headline">¶</a></h1>
<p>Salt is a new approach to infrastructure management. Easy enough to get running in minutes, scalable enough to manage tens of thousands of servers, and fast enough to communicate with them in <em>seconds</em> .</p>
<p>Salt delivers a dynamic communication bus for infrastructures that can be used for orchestration(业务流程？), remote execution, configuration management and much more.</p>
<div class="section" id="saltstack-walkthrough">
<h2>SaltStack Walkthrough<a class="headerlink" href="#saltstack-walkthrough" title="Permalink to this headline">¶</a></h2>
<p>Salt is a different approach to infrastructure management, it is founded on the idea that high speed communication with large numbers of systems can open up new capabilities.
This approach makes Salt a powerful multitasking system that can solve many specific problems in an infrastructure. The backbone of Salt is the remote execution engine,
which creates a high speed, secure and bi-directional communication net for groups of systems. On top of this communication system Salt provides an extremely fast, flexible
and easy to use configuration management system called <code class="docutils literal"><span class="pre">Salt</span> <span class="pre">States</span></code> .</p>
<hr class="docutils" />
<p><strong>The Salt Master needs to bind to 2 TCP network ports on the system, these ports are 4505 and 4506.</strong></p>
<hr class="docutils" />
<p>Now that the minion is started it will generate cryptographic keys and attempt to connect to the master. The next step is to venture back to the master server and accept the new minion&#8217;s public key.</p>
<p>When the minion is started, it will generate an <code class="docutils literal"><span class="pre">id</span></code> value, unless it has been generated on a previous run and cached in the configuration directory ( <code class="docutils literal"><span class="pre">/etc/salt</span></code> by default). This is the name
by which the minion will attempt to authenticate to the master. The following steps are attempted, in order to try to find a value that is not <code class="docutils literal"><span class="pre">localhost</span></code> :</p>
<ol class="arabic simple">
<li>The Python function <code class="docutils literal"><span class="pre">socket.getfqdn()</span></code> is run</li>
<li><code class="docutils literal"><span class="pre">/etc/hostname</span></code> is checked (non-Windows only)</li>
<li><code class="docutils literal"><span class="pre">/etc/hosts</span></code> ( <code class="docutils literal"><span class="pre">%WINDIR%\system32\drivers\etc\hosts</span></code> on Windows hosts) is checked for hostnames that map to anything within 127.0.0.0/8.</li>
</ol>
<p>If none of the above are able to produce an id which is not <code class="docutils literal"><span class="pre">localhost</span></code> , then a sorted list of IP addresses on the minion (excluding any within 127.0.0.0/8) is inspected. The first publicly-routable
IP address is used, if there is one. Otherwise, the first privately-routable IP address is used.</p>
<p>If all else fails, then <code class="docutils literal"><span class="pre">localhost</span></code> is used as a fallback.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The minion id can be manually specified using the <code class="docutils literal"><span class="pre">id</span></code> parameter in the minion config file. If this configuration value is specified, it will override all other sources for the <code class="docutils literal"><span class="pre">id</span></code> .</p>
</div>
<hr class="docutils" />
<p>Salt authenticates minions using public key encryption and authentication. For a minion to start accepting commands from the master the minion keys need to be accepted. The <code class="docutils literal"><span class="pre">salt-key</span></code> command is used to manage all of the keys on the master.</p>
<hr class="docutils" />
<p>The <code class="docutils literal"><span class="pre">salt</span></code> command is comprised of command options, target specification, the function to execute, and arguments to the function.</p>
<p>Salt comes with a vast library of functions available for execution, and Salt functions are self documenting. To see what functions are available on the minions execute the <code class="docutils literal"><span class="pre">sys.doc</span></code> function:</p>
<div class="highlight-python"><div class="highlight"><pre>salt &#39;*&#39; sys.doc
</pre></div>
</div>
<p>This will display a very large list of available functions and documentation on them, this documentation is also available <a class="reference external" href="https://salt.readthedocs.org/en/latest/ref/modules/all/index.html">here</a> .</p>
<p>These functions cover everything from shelling out to package management to manipulating database servers. They comprise a powerful system management API which is the backbone to Salt configuration management and many other aspects of Salt.</p>
<hr class="docutils" />
<p>The <a class="reference external" href="https://salt.readthedocs.org/en/latest/ref/modules/all/salt.modules.cmdmod.html">cmd</a> module contains functions to shell out on minions, such as <code class="docutils literal"><span class="pre">cmd.run</span></code> and <code class="docutils literal"><span class="pre">cmd.run_all</span></code> :</p>
<div class="highlight-python"><div class="highlight"><pre>salt &#39;*&#39; cmd.run &#39;ls -l /etc&#39;
</pre></div>
</div>
<hr class="docutils" />
<p>The <code class="docutils literal"><span class="pre">pkg</span></code> functions automatically map local system package managers to the same salt functions. This means that <code class="docutils literal"><span class="pre">pkg.install</span></code> will install packages via yum on Red Hat based systems, apt on Debian systems, etc.:</p>
<div class="highlight-python"><div class="highlight"><pre>salt &#39;*&#39; pkg.install vim
</pre></div>
</div>
<hr class="docutils" />
<p>The <code class="docutils literal"><span class="pre">network.interfaces</span></code> function will list all interfaces on a minion, along with their IP addresses, netmasks, MAC addresses, etc:</p>
<div class="highlight-python"><div class="highlight"><pre>salt &#39;*&#39; network.interfaces
</pre></div>
</div>
<hr class="docutils" />
<p><code class="docutils literal"><span class="pre">salt-call</span></code></p>
<p>The examples so far have described running commands from the Master using the <code class="docutils literal"><span class="pre">salt</span></code> command, but when troubleshooting it can be more beneficial to login to the minion directly and use <code class="docutils literal"><span class="pre">salt-call</span></code> .
Doing so allows you to see the minion log messages specific to the command you are running (which are not part of the return data you see when running the command from the Master using <code class="docutils literal"><span class="pre">salt</span></code> ),
More information on <code class="docutils literal"><span class="pre">salt-call</span></code> and how to use it can be found <a class="reference external" href="https://salt.readthedocs.org/en/latest/topics/troubleshooting/index.html#using-salt-call">here</a> .</p>
<hr class="docutils" />
<p><strong>Grains</strong></p>
<p>Salt uses a system called <a class="reference external" href="https://salt.readthedocs.org/en/latest/topics/targeting/grains.html">Grains</a> to build up static data about minions. This data includes information about the operating system that is running, CPU architecture and much more. The grains system
is used throughout Salt to deliver platform data to many components and to users.</p>
<p>Grains can also be statically set, this makes it easy to assign values to minions for grouping and managing. A common practice is to assign grains to minions to specify what the role or roles a minion
might be. These static grains can be set in the minion configuration file or via the <code class="docutils literal"><span class="pre">grains.setval</span></code> function.</p>
<hr class="docutils" />
<p><strong>Targeting</strong></p>
<p>Salt allows for minions to be targeted based on a wide range of criteria. The default targeting system uses globular expressions(应该是指 <code class="docutils literal"><span class="pre">*</span></code> 符号) to match minions.</p>
<p>Many other targeting systems can be used other than globs, these systems include:</p>
<ul class="simple">
<li><strong>Regular Expressions</strong> : Target using PCRE compliant regular expressions</li>
<li><strong>Grains</strong> : Target based on grains data: <a class="reference external" href="https://salt.readthedocs.org/en/latest/topics/targeting/grains.html">Targeting with Grains</a></li>
<li><strong>Pillar</strong> : Target based on pillar data: <a class="reference external" href="https://salt.readthedocs.org/en/latest/ref/pillar/index.html">Targeting with Pillar</a></li>
<li><strong>IP</strong> : Target based on IP addr/subnet/range</li>
<li><strong>Compound</strong> : Create logic to target based on multiple target: <a class="reference external" href="https://salt.readthedocs.org/en/latest/topics/targeting/compound.html">Targeting with Compound</a></li>
<li><strong>Nodegroup</strong> : Target with nodegroups: <a class="reference external" href="https://salt.readthedocs.org/en/latest/topics/targeting/nodegroups.html">Targeting with Nodegroup</a></li>
</ul>
<p>The concepts of targets are used on the command line with salt, but also function in many other areas as well, including the state system and the systems used for ACLs and user permissions.</p>
<hr class="docutils" />
<div class="section" id="salt-states">
<h3>Salt States<a class="headerlink" href="#salt-states" title="Permalink to this headline">¶</a></h3>
<p>Salt <code class="docutils literal"><span class="pre">States</span></code> , or the <code class="docutils literal"><span class="pre">State</span> <span class="pre">System</span></code> is the component of Salt made for configuration management.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Salt states are based on data modeling, and build on a low level data structure that is used to execute each state function. Then more logical layers are built on top of each other. The high
layers of the state system which this tutorial will cover consists of everything that needs to be known to use states, the two high layers covered here are the <em>sls</em> layer and the highest layer <em>highstate</em> .</p>
</div>
<p><strong>The First SLS Formula</strong></p>
<p>The state system is built on sls formulas, these formulas are built out in files on Salt&#8217;s file server. To make a very basic sls formula open up a file under /srv/salt named vim.sls and get vim installed:</p>
<div class="highlight-python"><div class="highlight"><pre>/srv/salt/vim.sls
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>vim:
    pkg.installed
</pre></div>
</div>
<p>Now install vim on the minions by calling the sls directly:</p>
<div class="highlight-python"><div class="highlight"><pre>salt &#39;*&#39; state.sls vim
</pre></div>
</div>
<p>This command will invoke the state system and run the named sls which was just created, <code class="docutils literal"><span class="pre">vim</span></code> .</p>
<p>Now, to beef up the vim sls formula, a vimrc can be added:</p>
<div class="highlight-python"><div class="highlight"><pre>/srv/salt/vim.sls:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>vim:
    pkg.installed

/etc/vimrc:
    file.managed:
        - source: salt://vimrc
        - mode: 644
        - user: root
        - group: root
</pre></div>
</div>
<p><strong>Adding Some Depth</strong></p>
<p>Obviously maintaining sls formulas right in the root of the file server will not scale out to reasonably sized deployments. This is why more depth is required. Start by making an nginx formula a better
way, make an nginx subdirectory and add an init.sls file:</p>
<div class="highlight-python"><div class="highlight"><pre>/srv/salt/nginx/init.sls:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>nginx:
    pkg:
        - installed
    service:
        - running
        - require:
            - pkg: nginx
</pre></div>
</div>
<p>A few things are introduced in this sls formula, first is the service statement which ensures that the nginx service is running, but the nginx service can&#8217;t be started unless the package is installed,
hence the <code class="docutils literal"><span class="pre">require</span></code> . The <code class="docutils literal"><span class="pre">require</span></code> statement makes sure that the required component is executed before and that it results in success.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <em>require</em> option belongs to a family of options called <em>requisites</em> .Requisites are a powerful component of Salt States, for more information on how requisites work and what is available
see: <a class="reference external" href="https://salt.readthedocs.org/en/latest/ref/states/requisites.html">Requisites</a> Also evaluation ordering is available in Salt as well: <a class="reference external" href="https://salt.readthedocs.org/en/latest/ref/states/ordering.html">Ordering States</a></p>
</div>
<p>Now this new sls formula has a special name, <code class="docutils literal"><span class="pre">init.sls</span></code> , when an sls formula is named <code class="docutils literal"><span class="pre">init.sls</span></code> it inherits the name of the directory path that contains it, so this formula can be referenced via
the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>salt &#39;*&#39; state.sls nginx
</pre></div>
</div>
<p>Now that subdirectories can be used the vim.sls formula can be cleaned up, but to make things more flexible, move the vim.sls and vimrc into a new subdirectory called <code class="docutils literal"><span class="pre">edit</span></code> and change the vim.sls file to reflect the change:</p>
<div class="highlight-python"><div class="highlight"><pre>/srv/salt/edit/vim.sls:
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>vim:
    pkg.installed
/etc/vimrc:
    file.managed:
        - source: salt://edit/vimrc
        - mode: 644
        - user: root
        - group: root
</pre></div>
</div>
<p>Now the formula is referenced as <code class="docutils literal"><span class="pre">edit.vim</span></code> because it resides in the edit subdirectory. Now the edit subdirectory can contain formulas for emacs, nano, joe or any other editor that may need to be deployed.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="saltstack/starting_states.html">How Do I Use Salt States?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="saltstack/starting_states.html#the-top-file">The Top File</a></li>
<li class="toctree-l2"><a class="reference internal" href="saltstack/starting_states.html#default-data-yaml">Default Data - YAML</a></li>
<li class="toctree-l2"><a class="reference internal" href="saltstack/starting_states.html#adding-configs-and-users">Adding Configs and Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="saltstack/pillar_walkthrough.html">Pillar Walkthrough</a><ul>
<li class="toctree-l2"><a class="reference internal" href="saltstack/pillar_walkthrough.html#setting-up-pillar">Setting Up Pillar</a></li>
<li class="toctree-l2"><a class="reference internal" href="saltstack/pillar_walkthrough.html#paramaterizing-states-with-pillar">Paramaterizing States With Pillar</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="saltstack/getting_deeper_into_states.html">Getting Deeper Into States</a></li>
<li class="toctree-l1"><a class="reference internal" href="saltstack/scheduling.html">Salt Scheduling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="saltstack/scheduling.html#scheduler-with-returner">Scheduler With Returner</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="saltstack/returner.html">Returners</a><ul>
<li class="toctree-l2"><a class="reference internal" href="saltstack/returner.html#using-returner">Using Returner</a></li>
<li class="toctree-l2"><a class="reference internal" href="saltstack/returner.html#writing-a-returner">Writing a Returner</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id2">
<h2>相关链接<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/saltstack/salt">https://github.com/saltstack/salt</a></p>
<p><a class="reference external" href="http://docs.saltstack.com/">http://docs.saltstack.com/</a></p>
<p><a class="reference external" href="http://wiki.saltstack.cn/">http://wiki.saltstack.cn/</a></p>
<p><a class="reference external" href="http://www.vpsee.com/2013/08/a-system-configuration-management-and-orchestration-tool-saltstack/">系统自动化配置和管理工具SaltStack</a></p>
<p><a class="reference external" href="http://www.shencan.net/index.php/category/%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4/saltstack/">灿哥的Blog - SaltStack</a></p>
<p><a class="reference external" href="https://salt.readthedocs.org/en/latest/">salt.readthedocs.org</a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="saltstack/starting_states.html" class="btn btn-neutral float-right" title="How Do I Use Salt States?" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dns.html" class="btn btn-neutral" title="DNS/BIND" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, youngsterxyf.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>