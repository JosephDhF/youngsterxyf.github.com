

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>读文笔记：Quora’s Technology Examined &mdash; xiayf的学习笔记</title>
  

  
  

  
  <link href="../static/css/google-fonts.css" rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="xiayf的学习笔记" href="../index.html"/>
        <link rel="next" title="参考资料" href="reference.html"/>
        <link rel="prev" title="High Scalability 读文笔记" href="read_high_scalability.html"/> 

  
  <script src="../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> 学习笔记</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="read_high_scalability.html">High Scalability 读文笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="read_high_scalability.html#tumblr">Tumblr架构设计</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">读文笔记：Quora’s Technology Examined</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">参考资料</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference.html#id2">知乎</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#netflix">Netflix</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#linkedin">LinkedIn</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#pinterest">Pinterest</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#google">Google</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#id5">大众点评网</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#id7">阿里巴巴</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#digg">Digg</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#heroku">Heroku</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#youtube">YouTube</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#flickr">Flickr</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#wikipedia">Wikipedia</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#id13">腾讯</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#id14">豆瓣</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#facebook">Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#amazon">Amazon</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#yahoo">Yahoo!</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#github">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#disqus">Disqus</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#twitter">Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#tumblr">Tumblr</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#stackoverflow">StackOverflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#instagram">Instagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#youporn">YouPorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#reddit">Reddit</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#id25">其他</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../operations/index.html">入门</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/index.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/os.html">Linux操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/os.html#id1">实践篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/os.html#id2">工具篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/os.html#id5">原理篇</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/nginx.html">Nginx</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/nginx.html#id1">《Nginx开发从入门到精通》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/nginx.html#id2">模块学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/nginx.html#id3">实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/nginx.html#id4">资源</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/uwsgi.html">uWSGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/db.html">数据库</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/db/memcached.html">Memcached</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/db/redis.html">Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/db/mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/db/sqlite.html">SQLite</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/lvs.html">LVS - Linux Virtual Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/varnish.html">Varnish Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/haproxy.html">HAProxy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/haproxy.html#id2">HAProxy源码编译安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/haproxy.html#haproxysyslog-ng">HAProxy的syslog-ng日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/haproxy.html#haproxyrsyslogd">HAProxy的rsyslogd日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/haproxy.html#id3">HAProxy命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/haproxy.html#haproxy-haproxy">HAProxy配置文件示例（来自 HAProxy的安装和部署 ）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/haproxy.html#id5">参考材料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/keepalived.html">Keepalived</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/keepalived.html#tlinuxkeepalived">tlinux上源码编译安装Keepalived</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/keepalived.html#vrrp">VRRP协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/keepalived.html#id1">Keepalived原理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/keepalived.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/fabric.html">Fabric</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/supervisor.html">Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/gunicorn.html">Gunicorn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/openvpn.html">OpenVPN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/openvpn.html#vpn">如何让客户端流量全部走VPN？</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/docker.html">Docker/LXC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/docker.html#id1">推荐资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/dns.html">DNS/BIND</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/dns.html#bind9-9-3">编译安装BIND9.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/dns.html#bind-dns">配置BIND（缓存DNS）</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/zookeeper.html">Zookeeper</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/zookeeper.html#zookeeper-overview">Zookeeper Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/saltstack.html">SaltStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/saltstack.html#saltstack-walkthrough">SaltStack Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/saltstack.html#id2">相关链接</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/zabbix.html">Zabbix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/buildbot.html">Buildbot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/coreos.html">coreOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operations/ntp.html">NTP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/ntp.html#ntp-conf">配置文件ntp.conf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/ntp.html#linux">Linux系统时间与硬件时间</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/ntp.html#id3">Linux系统时区与手动校时工作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operations/ntp.html#id4">Linux的网络校时</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/influxdb.html">InfluxDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/influxdb.html#id1">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operations/heka.html">heka</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operations/heka.html#id1">Heka文档阅读笔记</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/php.html">PHP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/php/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/php-framework.html">PHP web框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/php/php-internal.html">深入理解PHP内核</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/python.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/python/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/best-practices.html">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/libs.html">第三方库集锦</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/django.html">Django</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/django.html#id1">参考资料</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/Celery.html">Celery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/gunicorn.html">Gunicorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/eventlet.html">Eventlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/paramiko.html">Paramiko</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/sentry.html">sentry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/virtualenv.html">virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/scipy.html">SciPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/python/sqlalchemy.html">SQLAlchemy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/js.html">JavaScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/js/basic.html">JavaScript基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/frontend-dv.html">前端数据可视化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/frontend-framework.html">前端框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/frontend-tool.html">前端工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/modular-frontend.html">前端模块化开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/js/nodejs.html">Node.js</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/css.html">CSS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/css/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/semantic-ui.html">Semantic UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css/css-mastery.html">读书笔记：精通CSS-高级Web标准解决方案</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/css.html#id1">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/shell.html">Shell编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/go.html">Go语言</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/go-web-programming.html">《Go Web编程》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/go-learning-note.html">Go学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/a-tour-of-go.html">&lt;A tour of Go&gt;学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/golang/note-effective-go.html">&lt;Effective Go&gt;学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id1">语言基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#web">Web开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id5">标准库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id6">第三方库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id7">Web框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/go.html#id8">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/web.html">Web开发问题记录</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id1">响应式设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id6">工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id9">浏览器兼容问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id10">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/web.html#id11">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/Erlang.html">Erlang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/Lua.html">Lua</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../base/os.html">操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/os.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/compiler.html">编译原理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/compiler.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/algorithm.html">算法与数据结构</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/algorithm.html#id2">贝塞尔曲线</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/network.html">网络</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../base/network/sdn.html">软件定义网络（SDN）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/rsync.html">Rsync</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/oauth2.html">OAuth2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network/read_hpbn.html">读书笔记：High-Performance Browser Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../base/network.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../base/security.html">Web安全</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../others/quotes.html">启示语录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/data-visual.html">数据可视化</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#acharts">acharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#echarts">ECharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#polymaps">Polymaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#highcharts-js">Highcharts JS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#amcharts">amCharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#peity">Peity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#kartograph">Kartograph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#d3-js">D3.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#raphael">Raphael</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#nvd3">NVD3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#flot">Flot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#javascript-infovis-toolkit">JavaScript InfoVis Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#rickshaw">Rickshaw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#graph-tool">graph-tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#chap-links-library">CHAP Links Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/data-visual.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/git.html">Git学习笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/git/git-simple-guide.html">Git-简易指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/git/visual-git-guide.html">图解Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/git/pro-git-cn.html">Pro Git</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/message_queue.html">消息队列</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/message_queue.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/storage.html">数据存储</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/storage.html#bitcask">BitCask</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/distributed-system.html">分布式系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/distributed-system.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../others/quora-collection.html">Quora问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/stackoverflow-collection.html">StackOverflow问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../others/other.html">碎碎念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../others/other/taobao-ten-years.html">《淘宝技术这十年》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/other/inspired.html">启示录-打造用户喜爱的产品</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">学习笔记</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>读文笔记：Quora’s Technology Examined</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../sources/architecture/Quora_technology_examined.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="quoras-technology-examined">
<h1>读文笔记：Quora’s Technology Examined<a class="headerlink" href="#quoras-technology-examined" title="Permalink to this headline">¶</a></h1>
<p><strong>The Search-Box</strong></p>
<p>Previously, they did use an open source search server, called Sphinx. It supports the features they are using above, but they have since moved from this due to real-time constraints. Their new solution is built in-house and allows them better prefix indexing and control over the matching algorithms. They built this in Python.</p>
<p><em>Speedy Queries</em></p>
<p>Queries are sent over AJAX as a GET request. Responses come back as JSON with the rendered HTML embedded inside the JSON. Rendering of the results on the server-side, as opposed to rendering them in JavaScript, seems to be due to the need to highlight matching words in the text. This is sometimes too complex for JavaScript.</p>
<p>Quora uses persistent connections. A HTTP connection is established with the server when you start tying the search query. This connection is kept open and futher requests are made on this same open connection. The connection will terminate (times-out) if not used for 60 seconds. If a connection times-out then a new connection is established when tying begins.</p>
<p><strong>Webnode2 And LiveNode</strong></p>
<p>Webnode2 and LiveNode are some of Quora&#8217;s internal systems, which were built for managing the content.</p>
<p>Webnode2 generates HTML, CSS and JavaScript and is tightly coupled with LiveNode, which is responsible for managing the display of the content on the webpage.</p>
<p>One weakness of them is that it is tricky for LiveNode to keep track of what is happening within the browser as it pushes changes from the server. If users A and B are viewing the same question then ones interactions will affect the other. For instance, if user A up-votes an answer then that answer will be promoted and will visibly move up the page. This display change will be pushed over AJAX to user B&#8217;s browser. Any prior browser-side change that user B made, such as expanding a comments section, might be lost.</p>
<p>LiveNode is written in Python, C++, and JavaScript. jQuery and Cython is also used.</p>
<p><strong>Amazon Web Services</strong></p>
<p>Amazon EC2 and S3 is used for their hosting.</p>
<p><em>Ubuntu Linux</em></p>
<p><em>Static Content</em></p>
<p>Using Amazon&#8217;s distributed content delivery network, Cloudfront.（注：貌似现在Quora是用自己的CDN了，如http://qph.is.quoracdn.net/main-thumb-t-2803-50-pABO3faE4RywN4mCnyw8pMthjzRjmyh3.jpeg）</p>
<p><strong>HAProxy Load-Balancing</strong></p>
<p>Quora uses HAProxy at the front-line, which load-balances onto the distributed Nginx server behind them.</p>
<p><strong>Nginx</strong></p>
<p>Behind the load-balancer, Nginx is used as a reverse-proxy server onto the web-servers.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://kovyrin.net/2006/05/18/nginx-as-reverse-proxy/">Using Nginx As Reverse-Proxy Server On High-Loaded Sites</a></p>
</div>
<p><strong>Pylons And Paste</strong></p>
<p>Pylons, a lightweight web framework, is used as their main web-server behind Nginx. The use the default <a class="reference external" href="http://spacepants.org/blog/pylons-paste-stack">Pylons + Paste stack</a></p>
<p><strong>Python</strong></p>
<p>Coming from Facebook, it was a good bet that Charlie and Adam would choose PHP for their development language. As Adam points out, &#8220;Facebook is stuck on that for legacy reasons, not because it is the best choice right now&#8221;. <strong>From this experience they knew that choosing technologies, especially programming languages, for the long-run was very important. Python won over Java because it is more expressive and quicker to write code than Java. Scala was too new. Adam mentions *speed and the lack of type-checking as drawbacks with Python* , but they both already knew the language reasonably well. Where Python lacks speed for performance critical backend components, they opt to write them in C++</strong> . They saw Ruby as a close match to Python, but their experience with Python and lack of experience in Ruby, made Python the winner. Python 2.6, to be precise.</p>
<p>Additional benefits for using Python are the fact that data-structures that map well to JSON, code readability, there is a large collection of libraries and the availability of good debuggers and reloaders. Browser-server communication using JSON is major component of what Quora does, so this was an important factor.</p>
<p>PyPy, a project that aims to produce a flexible and fast Python implementation, was also mentioned as something that might give them a speed-boost.</p>
<p><strong>Thrift</strong></p>
<p>Thrift is used for communications between backend systems. The Thrift service is written in C++.</p>
<p><strong>Tornado</strong></p>
<p>The Tornado web framework is used for live updating. This is their Comet server, which handles <strong>the large volumes of open connections used for long-polling</strong> and pushed updates to the browsers.</p>
<p><strong>Long Polling (Comet)</strong></p>
<p>Quora does not display just static web pages. Each page will updates new content as questions, answers and comments are submitted by other others. As Adam D&#8217;Angelo points out, one of the best ways to do this currently is with &#8220;long polling&#8221;. This is different to &#8220;polling&#8221;.</p>
<p>Long polling, also known as <a class="reference external" href="http://en.wikipedia.org/wiki/Comet_(programming)">Comet</a> , puts the server in control, by making the client wait for responses.</p>
<p>The benefit to long-polling is that there is less back-and-forth between the client and server. The server is in control of the timing, so updates to the browser can be made within milliseconds. This makes it ideal for chat applications or applications that want really snappy updates for their users.</p>
<p>The down-side is that you are going have lots of open connections between the clients and your servers.</p>
<p>The good news is that there are technologies specifically designed for this. It costs very little to hold open connections in memory if you free up all the resources used for that connection. For instance, Nginx (Quora uses this for proxying requests) is a single-threaded event-based application and uses very little memory for each connection. Each Nginx process is actively dealing with only one connection at a time. This means it can scale to tens of thousands of concurrent connections.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://www.quora.com/How-do-you-push-messages-back-to-a-web-browser-client-through-AJAX-Is-there-any-way-to-do-this-without-having-the-client-constantly-polling-the-server-for-updates">How do you push messages back to a web-browser client through AJAX?  Is there any way to do this without having the client constantly polling the server for updates?</a></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://qinxuye.me/article/ways-to-continual-sync-browser-and-server/">Browser和Server持续同步的几种方式（jQuery+tornado演示）</a> , <a class="reference external" href="http://ued.sina.com.cn/?p=900">WebSocket实战</a></p>
</div>
<p><strong>MySQL</strong></p>
<p>The basic advice is to only partition data if necessary, keep data on one machine if possible and use a hash of the primary key to partition larger datasets across multiple databases. Joins must be avoided.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://backchannel.org/blog/friendfeed-schemaless-mysql">How FriendFeed uses MySQL to store schema-less data</a> , <a class="reference external" href="http://www.quora.com/How-does-one-evaluate-if-a-database-is-efficient-enough-to-not-crash-as-its-put-under-increasing-load">How does one evaluate if a database is efficient enough to not crash as it&#8217;s put under increasing load?</a></p>
</div>
<p><strong>Memcached</strong></p>
<p>Memcached is used as a caching layer in front of MySQL.</p>
<p><strong>Git</strong></p>
<p><strong>JavaScript Placement</strong></p>
<p>To place JavaScript at the end of the page will give the feeling of a quicker loading page, since the browser has content to display before the JavaScript has be seen.</p>
<p><strong>Charlie Cheever Follows &#8220;14 Rules for Faster-Loading Web Sites&#8221;</strong></p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://stevesouders.com/hpws/rules.php">14 Rules for Faster-Loading Web Sites</a></p>
</div>
<hr class="docutils" />
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://www.bigfastblog.com/quoras-technology-examined">原文</a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="reference.html" class="btn btn-neutral float-right" title="参考资料">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="read_high_scalability.html" class="btn btn-neutral" title="High Scalability 读文笔记"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, youngsterxyf.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>