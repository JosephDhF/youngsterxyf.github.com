

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;Effective Go&gt;学习笔记 &mdash; xiayf的学习笔记</title>
  

  
  

  
  <link href="../../static/css/google-fonts.css" rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="xiayf的学习笔记" href="../../index.html"/>
        <link rel="up" title="Go语言" href="../go.html"/>
        <link rel="next" title="Web开发问题记录" href="../web.html"/>
        <link rel="prev" title="&lt;A tour of Go&gt;学习笔记" href="a-tour-of-go.html"/> 

  
  <script src="../../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="fa fa-home"> 学习笔记</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/read_high_scalability.html">High Scalability 读文笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/read_high_scalability.html#tumblr">Tumblr架构设计</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/Quora_technology_examined.html">读文笔记：Quora’s Technology Examined</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#the-search-box">The Search-Box</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#webnode2-and-livenode">Webnode2 And LiveNode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#amazon-web-services">Amazon Web Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#haproxy-load-balancing">HAProxy Load-Balancing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#nginx">Nginx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#pylons-and-paste">Pylons And Paste</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#thrift">Thrift</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#tornado">Tornado</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#long-polling-comet">Long Polling (Comet)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#mysql">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#memcached">Memcached</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#git">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#javascript-placement">JavaScript Placement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/Quora_technology_examined.html#charlie-cheever-follows-14-rules-for-faster-loading-web-sites">Charlie Cheever Follows &#8220;14 Rules for Faster-Loading Web Sites&#8221;</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/reference.html">参考资料</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#id2">知乎</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#netflix">Netflix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#linkedin">LinkedIn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#pinterest">Pinterest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#google">Google</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#id5">大众点评网</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#id7">阿里巴巴</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#digg">Digg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#heroku">Heroku</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#youtube">YouTube</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#flickr">Flickr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#wikipedia">Wikipedia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#id13">腾讯</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#id14">豆瓣</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#facebook">Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#amazon">Amazon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#yahoo">Yahoo!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#github">Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#disqus">Disqus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#twitter">Twitter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#tumblr">Tumblr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#stackoverflow">StackOverflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#instagram">Instagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#youporn">YouPorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#reddit">Reddit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/reference.html#id25">其他</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../operations/index.html">入门</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/index.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/os.html">Linux操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/os.html#id1">实践篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/os.html#id2">工具篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/os.html#id5">原理篇</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/nginx.html">Nginx</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/nginx.html#id1">《Nginx开发从入门到精通》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/nginx.html#id2">模块学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/nginx.html#id3">实现</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/nginx.html#id4">资源</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/uwsgi.html">uWSGI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/db.html">数据库</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/db/memcached.html">Memcached</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/db/redis.html">Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/db/mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/db/sqlite.html">SQLite</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/lvs.html">LVS - Linux Virtual Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/varnish.html">Varnish Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/haproxy.html">HAProxy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/haproxy.html#id2">HAProxy源码编译安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/haproxy.html#haproxysyslog-ng">HAProxy的syslog-ng日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/haproxy.html#haproxyrsyslogd">HAProxy的rsyslogd日志配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/haproxy.html#id3">HAProxy命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/haproxy.html#haproxy-haproxy">HAProxy配置文件示例（来自 HAProxy的安装和部署 ）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/haproxy.html#id5">参考材料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/keepalived.html">Keepalived</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/keepalived.html#tlinuxkeepalived">tlinux上源码编译安装Keepalived</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/keepalived.html#vrrp">VRRP协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/keepalived.html#id1">Keepalived原理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/keepalived.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/fabric.html">Fabric</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/supervisor.html">Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/gunicorn.html">Gunicorn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/openvpn.html">OpenVPN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/openvpn.html#vpn">如何让客户端流量全部走VPN？</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/docker.html">Docker/LXC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/docker.html#id1">推荐资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/dns.html">DNS/BIND</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/dns.html#bind9-9-3">编译安装BIND9.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/dns.html#bind-dns">配置BIND（缓存DNS）</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/zookeeper.html">Zookeeper</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/zookeeper.html#zookeeper-overview">Zookeeper Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/saltstack.html">SaltStack</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/saltstack.html#saltstack-walkthrough">SaltStack Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/saltstack.html#id2">相关链接</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/zabbix.html">Zabbix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/buildbot.html">Buildbot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/coreos.html">coreOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/ntp.html">NTP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/ntp.html#ntp-conf">配置文件ntp.conf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/ntp.html#linux">Linux系统时间与硬件时间</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/ntp.html#id3">Linux系统时区与手动校时工作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/ntp.html#id4">Linux的网络校时</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/influxdb.html">InfluxDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/influxdb.html#id1">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../operations/heka.html">heka</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../operations/heka.html#id1">Heka文档阅读笔记</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../php.html">PHP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../php/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../php/basic.html#php">《PHP手册》阅读笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../php/basic.html#id10">常用函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../php/php-framework.html">PHP web框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../php/php-internal.html">深入理解PHP内核</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../python/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/best-practices.html">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/libs.html">第三方库集锦</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/django.html">Django</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/django.html#id1">参考资料</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/Celery.html">Celery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/gunicorn.html">Gunicorn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/eventlet.html">Eventlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/paramiko.html">Paramiko</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/sentry.html">sentry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/virtualenv.html">virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/scipy.html">SciPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python/sqlalchemy.html">SQLAlchemy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../js.html">JavaScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../js/basic.html">JavaScript基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../js/frontend-dv.html">前端数据可视化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../js/frontend-framework.html">前端框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../js/frontend-tool.html">前端工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../js/modular-frontend.html">前端模块化开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../js/nodejs.html">Node.js</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../css.html">CSS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../css/basic.html">基础知识</a></li>
<li class="toctree-l2"><a class="reference internal" href="../css/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../css/semantic-ui.html">Semantic UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../css/css-mastery.html">读书笔记：精通CSS-高级Web标准解决方案</a></li>
<li class="toctree-l2"><a class="reference internal" href="../css.html#id1">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../shell.html">Shell编程</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../go.html">Go语言</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="go-web-programming.html">《Go Web编程》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="go-learning-note.html">Go学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="a-tour-of-go.html">&lt;A tour of Go&gt;学习笔记</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">&lt;Effective Go&gt;学习笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../go.html#id1">语言基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../go.html#web">Web开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../go.html#id5">标准库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../go.html#id6">第三方库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../go.html#id7">Web框架</a></li>
<li class="toctree-l2"><a class="reference internal" href="../go.html#id8">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../web.html">Web开发问题记录</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../web.html#id1">响应式设计</a></li>
<li class="toctree-l2"><a class="reference internal" href="../web.html#id6">工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="../web.html#id9">浏览器兼容问题</a></li>
<li class="toctree-l2"><a class="reference internal" href="../web.html#id10">最佳实践</a></li>
<li class="toctree-l2"><a class="reference internal" href="../web.html#id11">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../make.html">CMake/Make</a></li>
<li class="toctree-l1"><a class="reference internal" href="../r.html">R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../octave.html">Octave</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../base/os.html">操作系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../base/os.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../base/compiler.html">编译原理</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../base/compiler.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../base/algorithm.html">算法与数据结构</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../base/algorithm.html#id2">贝塞尔曲线</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../base/network.html">网络</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../base/network/sdn.html">软件定义网络（SDN）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/network/rsync.html">Rsync</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/network/oauth2.html">OAuth2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/network/read_hpbn.html">读书笔记：High-Performance Browser Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/network.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../base/security.html">Web安全</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../others/quotes.html">启示语录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../others/data-visual.html">数据可视化</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#acharts">acharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#echarts">ECharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#polymaps">Polymaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#highcharts-js">Highcharts JS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#amcharts">amCharts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#peity">Peity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#kartograph">Kartograph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#d3-js">D3.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#raphael">Raphael</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#nvd3">NVD3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#flot">Flot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#javascript-infovis-toolkit">JavaScript InfoVis Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#rickshaw">Rickshaw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#graph-tool">graph-tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#chap-links-library">CHAP Links Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/data-visual.html#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../others/git.html">Git学习笔记</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../others/git/git-simple-guide.html">Git-简易指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/git/visual-git-guide.html">图解Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/git/pro-git-cn.html">Pro Git</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../others/message_queue.html">消息队列</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../others/message_queue.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../others/storage.html">数据存储</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../others/storage.html#bitcask">BitCask</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../others/distributed-system.html">分布式系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../others/distributed-system.html#id2">推荐阅读</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../others/quora-collection.html">Quora问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../others/stackoverflow-collection.html">StackOverflow问答精选</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../others/other.html">碎碎念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../others/other/taobao-ten-years.html">《淘宝技术这十年》读书笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/other/inspired.html">启示录-打造用户喜爱的产品</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">学习笔记</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../go.html">Go语言</a> &raquo;</li>
      
    <li>&lt;Effective Go&gt;学习笔记</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../sources/development/golang/note-effective-go.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="effective-go">
<h1>&lt;Effective Go&gt;学习笔记<a class="headerlink" href="#effective-go" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>类型切换<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>可以使用switch去发现一个接口变量的动态类型。</p>
<div class="highlight-python"><div class="highlight"><pre>var t interface{}
t = functionOfSomeType()
switch t := t.(type) {
default:
  fmt.Printf(&quot;unexpected type %T&quot;, t)  // %T打印t的类型
case bool:
  fmt.Printf(&quot;boolean %t\n&quot;, t)
case int:
  fmt.Printf(&quot;integer %d\n&quot;, t)
case *bool:
  fmt.Printf(&quot;pointer to boolean %t\n&quot;, *t)
case *int:
  fmt.Printf(&quot;pointer to integer %d\n&quot;, *t)
}
</pre></div>
</div>
</div>
<div class="section" id="defer">
<h2>Defer<a class="headerlink" href="#defer" title="Permalink to this headline">¶</a></h2>
<p>Go&#8217;s defer statement schedules a function call (the deferred function) to be run immediately before the function executing the defer returns. 该方法显得不同常规，但却是处理一些情况的有效方式，如无论函数怎样返回，都必须进行资源释放。</p>
</div>
<div class="section" id="id2">
<h2>数组<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Go和C中的数组的主要区别在于，在Go中，</p>
<ul class="simple">
<li>数组是值。将一个数组赋值给另一个将复制其所有的元素。</li>
<li>特别地，如果你传递一个数组给函数，它将收到此数组的一个副本，而不是一个指向它的指针。</li>
<li>数组的尺寸是其类型的一部分。[10]int和[20]int是不同的类型。</li>
</ul>
<p>数组是值的属性很有用，但代价昂贵; 如果你想要类似C的行为和效率，可以传递一个指向数组的指针。但这种风格并不是Go的习惯用法，切片才是。</p>
</div>
<div class="section" id="slice">
<h2>切片(slice)<a class="headerlink" href="#slice" title="Permalink to this headline">¶</a></h2>
<p>切片通过包装数组而给出了对数据序列的通用、强大和方便的接口。多数情况下，Go中的数组编程是通过切片而非简单数组来完成的。</p>
<p>切片保存了对其底层数组的引用，如果你将一个切片赋值给另外一个，这两个切片将引用同一个底层数组。</p>
</div>
<div class="section" id="id3">
<h2>常量<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Go中的常量就是不可变常数，它们在编译时被创建，即便在函数中定义的局部常量也是如此，常量只能是数字、字符(rune)、字符串或布尔值。由于编译时的限制，定义它们的表达式必须是可以被编译器求值的常量表达式。</p>
</div>
<div class="section" id="init">
<h2>init函数<a class="headerlink" href="#init" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://youngsterxyf.github.io/sphinx/work_note/development/go.html#main-init">http://youngsterxyf.github.io/sphinx/work_note/development/go.html#main-init</a></p>
</div>
<div class="section" id="pointer-vs-values">
<h2>Pointer vs. Values<a class="headerlink" href="#pointer-vs-values" title="Permalink to this headline">¶</a></h2>
<p>The rule about pointers vs. values for receivers is that value methods can be invoked on pointers and values, but pointer methods can only be invoked on pointers. This is because pointer methods can modify the receiver; invoking them on a copy of the value would cause those modifications to be discarded.</p>
</div>
<div class="section" id="interface-conversions-and-type-assertions">
<h2>Interface conversions and type assertions<a class="headerlink" href="#interface-conversions-and-type-assertions" title="Permalink to this headline">¶</a></h2>
<p>A type assertion takes an interface value and extracts from it a value of the specified explicit type. :</p>
<p><tt class="docutils literal"><span class="pre">value.(typeName)</span></tt></p>
<p>for example, to extract the string we know is in the value, we could write:</p>
<p><tt class="docutils literal"><span class="pre">str</span> <span class="pre">:=</span> <span class="pre">value.(string)</span></tt></p>
<p>But if it turns out that the value does not contain a string, the program will crash with a run-time error. To guard against that, use the &#8220;comma, ok&#8221; idiom to test, safely, whether the value is a string:</p>
<div class="highlight-python"><div class="highlight"><pre>str, ok := value.(string)
if ok {
  fmt.Printf(&quot;string value is: %q\n&quot;, str)
} else {
  fmt.Printf(&quot;value is not a string\n&quot;)
}
</pre></div>
</div>
<p>if the type assertion fails, str will still exist and be of type string, but it will have the zero value, an empty string.</p>
</div>
<div class="section" id="interfaces-and-methods">
<h2>Interfaces and methods<a class="headerlink" href="#interfaces-and-methods" title="Permalink to this headline">¶</a></h2>
<p>Since almost anything can have methods attached, almost anything can satisfy an interface. One illustrative example is in the http package, which defines the Handler interface. Any object that implements Handler can serve HTTP requests.</p>
<div class="highlight-python"><div class="highlight"><pre>type Handler interface {
  ServeHTTP(ResponseWriter, *Request)
}
</pre></div>
</div>
<p>ResponseWriter is itself an interface that provides access to the methods needed to return the response to the client. Those methods include the standard Write method, so an http.ResponseWriter can be used wherever an io.Writer can be used. Request is a struct containing a parsed representation of the request from the client.</p>
</div>
<div class="section" id="import-for-side-effect">
<h2>Import for side effect<a class="headerlink" href="#import-for-side-effect" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is useful to import a package only for its side effects, without any explicit use. For example, during its init function, the net/http/pprof package registers HTTP handlers that provide debugging information. It has an exported API, but most clients need only the handler registration and access the data through a web page. To import the package only for its side effects, rename the package to the blank identifier:</p>
<p><tt class="docutils literal"><span class="pre">import</span> <span class="pre">_</span> <span class="pre">&quot;net/http/pprof&quot;</span></tt></p>
<p>This form of import makes clear that the package is being imported for its side effects, because there is no other possible use of the package.</p>
</div>
<div class="section" id="embedding">
<h2>Embedding<a class="headerlink" href="#embedding" title="Permalink to this headline">¶</a></h2>
<p>Go does not provide the typical, type-driven notion of subclassing, but it does have the ability to &#8220;borrow&#8221; pieces of an implementation by embedding types within a struct or interface.</p>
<div class="highlight-python"><div class="highlight"><pre>type Reader interface {
  Read(p []byte) (n int, err error)
}
type Writer interface {
  Write(p []byte) (n int, err error)
}
// ReadWriter is the interface that combines the Reader and Writer interfaces.
type ReadWriter interface {
  Reader
  Writer
}
</pre></div>
</div>
<p>Only interfaces can be embedded within interfaces.</p>
<p>The same basic idea applies to structs, but with more far-reaching implications.</p>
<div class="highlight-python"><div class="highlight"><pre>// ReadWriter stores pointers to a Reader and a Writer
// It implements io.ReadWriter.
type ReadWriter struct {
  *Reader    // *bufio.Reader
  *Writer    // *bufio.Writer
}
</pre></div>
</div>
<p>There&#8217;s an important way in which embedding differs from subclassing. When we embed a type, the methods of that type become methods of the outer type, but when they are invoked the receiver of the method is the inner type, not the outer one.</p>
<p>Embedding types introduces the problem of name conflicts but the rules to resolve them are simple. First, a field or method X hides any other item X in a more deeply nested part of the type. If log.Logger contained a field or method called Command, the Command field of Job would dominate it.</p>
<p>Second, if the same name appears at the same nesting level, it is usually an error; it would be erroneous to embed log.Logger if the Job struct contained another field or method called Logger. However, if the duplicate name is never mentioned in the program outside the type definition, it is OK.</p>
<div class="section" id="concurrency">
<h3>Concurrency<a class="headerlink" href="#concurrency" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="share-by-communicating">
<h2>Share by communicating<a class="headerlink" href="#share-by-communicating" title="Permalink to this headline">¶</a></h2>
<p>Go encourages a different approach in which shared values are passed around on channels and, in fact, never actively shared by separate threads of execution. Only one goroutine has access to the value at any given time. Data races cannot occur, by design. To encourage this way of thinking we have reduced it to a slogan:
Do not communicate by sharing memory; instead, share memory by communicating.</p>
</div>
<div class="section" id="goroutines">
<h2>Goroutines<a class="headerlink" href="#goroutines" title="Permalink to this headline">¶</a></h2>
<p>A goroutine has a simple model: it is a function executing concurrently with other goroutines in the same address space.
Goroutines are multiplexed onto multiple OS threads so if one should block, such as while waiting for I/O, others continue to run.
A function literal can be handy in a goroutine invocation.</p>
<div class="highlight-python"><div class="highlight"><pre>func Announce(message string, delay time.Duration) {
  go func() {
      time.Sleep(delay)
      fmt.Println(message)
  }()  // Note the parentheses - must call the function.
}
</pre></div>
</div>
<p>In Go, function literals are closures: the implementation makes sure the variables referred to by the function survive as long as they are active.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../web.html" class="btn btn-neutral float-right" title="Web开发问题记录">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="a-tour-of-go.html" class="btn btn-neutral" title="&lt;A tour of Go&gt;学习笔记"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, youngsterxyf.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../static/jquery.js"></script>
      <script type="text/javascript" src="../../static/underscore.js"></script>
      <script type="text/javascript" src="../../static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>